<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<title>멤버 뷰</title>
</head>
<body>
<h1>멤버2</h1>
<table border='1'>
<form action='../update' method='post'>
<tr><th>아이디</th>
    <td><input readonly type='text' id='eId' value='' readonly></td></tr>
<tr><th>암호</th>
    <td><input type='password' id='ePassword' ></td></tr>
<tr><th>이메일</th>
    <td><input type='email' id='eEmail'></td></tr>
<tr><th>전화번호</th>
    <td><input type='text' id='eTel'></td></tr>
<p><button type="button" id="eListBtn">목록</button><button>변경하기</button><a href='../delete?id=user01'>삭제하기</a></p>
</form>
</table>
<script src="../js/common.js"></script>
<script>
"use strict"
var data;
var {id, size, page} = parseQuery(location.href);


loadList();
eListBtn.onclick = function() {
	location.href = `list.html?page=${page}&size=${size}`;
};
function loadList() {
	var xhr = new XMLHttpRequest();
	
	xhr.onreadystatechange = function() {
	    if (xhr.readyState < 4) return;
	    if (xhr.status !== 200) {
	        alert("서버에서 오류 발생!");
	        return;
	    }
	    data = JSON.parse(xhr.responseText);
	    console.log(data);
	    eId.value = data.member.id;
	    eEmail.value = data.member.email;
	    eTel.value = data.member.tel;
	    
	   
	    
	    
	};
	
	xhr.open('GET', 
	        `../../json/member/view/${id}`, 
	        true);
	
	xhr.send();
	
}

</script>

</body>
</html>